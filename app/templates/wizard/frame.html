{# templates/wizard/frame.html #}
{% extends "base.html" %}
{% block main %}

<body class="overflow-x-hidden">  {# Prevents scrollbar flash #}

<!-- full-screen flex wrapper keeps card centred -->
<div id="wizard-wrapper"
     class="min-h-screen flex flex-col justify-center items-center
            px-4 py-8 animate__animated
            {% if direction == 'prev' %} animate__fadeInLeft
            {% elif direction == 'next' %} animate__fadeInRight
            {% endif %}">

  <!-- CARD -->
  <div class="p-6 max-w-md w-full
              bg-white border border-gray-200 rounded-lg shadow-md
              dark:bg-gray-800 dark:border-gray-700">

      <!-- Typography helpers -->
      <div class="prose prose-slate dark:prose-invert
                  text-gray-800 dark:text-gray-200 max-w-none">
          {{ body_html|safe }}
      </div>
  </div>

  <!-- NAV BUTTONS -->
  <div class="flex justify-center space-x-4 mt-6">
      <a  hx-get="{{ url_for('wizard.step', server=server_type, idx=idx-1) }}"
          hx-vals='{"dir":"prev"}'
          hx-target="#wizard-wrapper" hx-swap="outerHTML"
          class="btn-nav"
          {% if idx == 0 %}style="display:none"{% endif %}>
          ‹ {{ _("Previous") }}
      </a>

      <a  hx-get="{{ url_for('wizard.step', server=server_type, idx=idx+1) }}"
          hx-vals='{"dir":"next"}'
          hx-target="#wizard-wrapper" hx-swap="outerHTML"
          class="btn-nav"
          {% if idx == max_idx %}style="display:none"{% endif %}>
          {{ _("Next") }} ›
      </a>

      {% if idx == max_idx %}
      <a href="{{ url_for('public.user_status') }}"
         class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary/90">
          <svg class="h-4 w-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
          {{ _("My Account") }}
      </a>
      {% endif %}
  </div>
</div>
</body>
{% endblock %}
